<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Guide - Ultra Endurance Race Nutrition Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        header p {
            opacity: 0.9;
        }
        
        .guide-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .guide-section h2 {
            color: #f5576c;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .guide-section h3 {
            color: #555;
            margin: 20px 0 10px 0;
        }
        
        .guide-section p {
            margin-bottom: 15px;
        }
        
        .guide-section ul, .guide-section ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .guide-section li {
            margin-bottom: 8px;
        }
        
        .tip-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .tip-box strong {
            color: #2e7d32;
        }
        
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning-box strong {
            color: #e65100;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .nav-links {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }
        
        .nav-links a {
            display: inline-block;
            margin-right: 15px;
            padding: 10px 20px;
            background: #f0f0f0;
            color: #333;
            text-decoration: none;
            border-radius: 5px;
        }
        
        .nav-links a:hover {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        
        .csv-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìñ User Guide</h1>
            <p>Learn how to use the Ultra Endurance Race Nutrition Tracker</p>
        </header>
        
        <div class="guide-section">
            <h2>üöÄ Quick Start</h2>
            <p>This tracker helps you plan and monitor your nutrition during ultra-endurance events. Here's the basic workflow:</p>
            <ol>
                <li><strong>Build your Pantry</strong> - Add all the foods and drinks you plan to use</li>
                <li><strong>Set your Goals</strong> - Define your hourly nutrition targets</li>
                <li><strong>Log Consumption</strong> - Track what you eat/drink during your race</li>
                <li><strong>Analyse Progress</strong> - View charts to see how you're tracking against goals</li>
            </ol>
        </div>
        
        <div class="guide-section">
            <h2>üçé Pantry Tab</h2>
            <p>The Pantry is your database of all foods and drinks available during your race.</p>
            
            <h3>Adding Items</h3>
            <ol>
                <li><span class="step-number">1</span>Select whether it's a <strong>Food</strong> (measured in grams) or <strong>Drink</strong> (measured in ml)</li>
                <li><span class="step-number">2</span>Enter the nutritional information from the product label</li>
                <li><span class="step-number">3</span>For foods, enter the serving size in grams. For drinks, it's fixed at 100ml (standard nutrition labelling)</li>
                <li><span class="step-number">4</span>Click "Add to Pantry"</li>
            </ol>
            
            <div class="tip-box">
                <strong>üí° Tip:</strong> Leave optional fields blank if not reported on the label - they'll show as "NR" (Not Reported).
            </div>
            
            <h3>üì• Exporting Your Pantry (Download)</h3>
            <p>Save your pantry to a CSV file that you can back up, share, or edit in Excel:</p>
            <ol>
                <li>Click the <strong>"üì• Export CSV"</strong> button in the Pantry section</li>
                <li>A file called <code>pantry_export.csv</code> will download automatically</li>
                <li>Open it in Excel, Google Sheets, or any spreadsheet program</li>
            </ol>
            
            <h3>üì§ Importing a Pantry (Upload)</h3>
            <p>Load a previously saved pantry or one shared by a friend:</p>
            <ol>
                <li>Click the <strong>"üì§ Import CSV"</strong> button</li>
                <li>Select your CSV file</li>
                <li>Choose whether to <strong>ADD</strong> to your existing pantry (OK) or <strong>REPLACE</strong> it entirely (Cancel)</li>
            </ol>
            
            <div class="csv-example">
                <strong>CSV Format Example:</strong><br>
                type,name,servingSize,kilojoules,carbs,sugars,protein,fat,fibre,sodium,magnesium,potassium,calcium,caffeine<br>
                food,Sad Banana,120,400,27,14,1,0,2,1,32,422,5,0<br>
                drink,Flat Coke,100,180,11,11,0,0,0,5,0,2,0,35
            </div>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Important:</strong> The CSV must include these required columns: type, name, servingSize, kilojoules, carbs
            </div>
        </div>
        
        <div class="guide-section">
            <h2>üìù Race Log Tab</h2>
            <p>Record everything you consume during your race.</p>
            
            <h3>Logging Consumption</h3>
            <p>There are two types of consumption:</p>
            <ul>
                <li><strong>‚ö° Bolus (Instant)</strong> - Eating a gel, bar, or taking a drink at a specific moment</li>
                <li><strong>‚ÜîÔ∏è Continuous</strong> - Sipping a drink or nibbling over a period of time (e.g., drinking 500ml over 2 hours)</li>
            </ul>
            
            <h3>Time Format</h3>
            <p>Time is entered as <strong>hours into the race</strong> and <strong>minutes</strong>. For example:</p>
            <ul>
                <li>Race start = 0h 0m</li>
                <li>1 hour 30 mins into the race = 1h 30m</li>
                <li>At the 24-hour mark = 24h 0m</li>
            </ul>
            
            <h3>Entering Amounts</h3>
            <ul>
                <li><strong>For drinks:</strong> Enter the amount in millilitres (ml)</li>
                <li><strong>For food:</strong> Choose between grams (g) or number of serves</li>
            </ul>
            
            <h3>üì• Exporting Your Race Log (Download)</h3>
            <p>Save your race nutrition log for post-race analysis:</p>
            <ol>
                <li>Go to the Race Log tab</li>
                <li>Click <strong>"üì• Export CSV"</strong></li>
                <li>A file called <code>race_log_export.csv</code> will download</li>
            </ol>
            
            <div class="tip-box">
                <strong>üí° Tip:</strong> Export your race log after each event to build a history of what works for you!
            </div>
            
            <h3>üì§ Importing a Race Log (Upload)</h3>
            <p>Load a previous race log or continue from a saved state:</p>
            <ol>
                <li>Click <strong>"üì§ Import CSV"</strong> in the Race Log section</li>
                <li>Select your CSV file</li>
                <li>Choose to ADD to existing entries or REPLACE all</li>
            </ol>
        </div>
        
        <div class="guide-section">
            <h2>üéØ Goals Tab</h2>
            <p>Set your hourly nutrition targets for different phases of your race. These appear as dashed red lines on your analysis charts.</p>
            
            <h3>Advanced Time-Based Goals</h3>
            <p>Ultra races aren't steady-state - your nutrition needs change! The tracker lets you set different goals for different time periods:</p>
            <ul>
                <li><strong>Early race (0-3 hours):</strong> Maybe 60g carbs/hr while you're still digesting breakfast</li>
                <li><strong>Mid race (3-8 hours):</strong> Ramp up to 80-90g carbs/hr as you settle in</li>
                <li><strong>Late race (8+ hours):</strong> Perhaps reduce to 70g carbs/hr as gut fatigue sets in</li>
            </ul>
            
            <h3>Adding Goal Periods</h3>
            <ol>
                <li><span class="step-number">1</span>Enter the start hour (e.g., 0 for race start)</li>
                <li><span class="step-number">2</span>Enter the end hour (e.g., 3 for the first 3 hours)</li>
                <li><span class="step-number">3</span>Set your hourly targets for that period</li>
                <li><span class="step-number">4</span>Click "Add Goal Period"</li>
                <li><span class="step-number">5</span>Repeat for each phase of your race</li>
            </ol>
            
            <div class="tip-box">
                <strong>üí° Tip:</strong> Goal periods can't overlap. The chart will show a stepped goal line that changes rate at each period boundary!
            </div>
            
            <h3>Common Guidelines</h3>
            <ul>
                <li><strong>Carbohydrates:</strong> 60-90g/hour (up to 120g/hour for trained gut)</li>
                <li><strong>Sodium:</strong> 300-600mg/hour (more in hot conditions)</li>
                <li><strong>Caffeine:</strong> 3-6mg/kg body weight spread across the race</li>
                <li><strong>Kilojoules:</strong> Typically 1000-1500kJ/hour depending on intensity</li>
            </ul>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Note:</strong> These are general guidelines. Your needs may vary based on body size, intensity, conditions, and gut tolerance. Test your strategy in training!
            </div>
        </div>
        
        <div class="guide-section">
            <h2>üìä Analysis Tab</h2>
            <p>Visualise your cumulative nutrition intake versus your goals.</p>
            
            <h3>Understanding the Charts</h3>
            <ul>
                <li><strong>Stacked areas</strong> show cumulative intake from each food source</li>
                <li><strong>Red dashed line</strong> shows your goal rate (if set)</li>
                <li><strong>X-axis</strong> shows time in minutes from race start</li>
                <li><strong>Y-axis</strong> shows cumulative amount consumed</li>
            </ul>
            
            <h3>Reading the Charts</h3>
            <p>If your coloured intake area is:</p>
            <ul>
                <li><strong>Above the red line</strong> - You're ahead of your goal ‚úÖ</li>
                <li><strong>Below the red line</strong> - You're behind your goal ‚ö†Ô∏è</li>
                <li><strong>Tracking along the line</strong> - You're on target! üéØ</li>
            </ul>
            
            <div class="tip-box">
                <strong>üí° Tip:</strong> Hover over any point on the chart to see exact values. The colours help you identify which foods contributed most to your intake.
            </div>
        </div>
        
        <div class="guide-section">
            <h2>üíæ Data Storage</h2>
            <p>All your data is stored locally in your browser using <strong>localStorage</strong>.</p>
            
            <h3>What This Means</h3>
            <ul>
                <li>‚úÖ Data persists between sessions on the same browser</li>
                <li>‚úÖ No account or internet required</li>
                <li>‚ùå Data won't sync across devices</li>
                <li>‚ùå Clearing browser data will delete your information</li>
            </ul>
            
            <div class="tip-box">
                <strong>üí° Pro Tip:</strong> Regularly export your Pantry and Race Log as CSV backups. This protects your data and lets you transfer it between devices!
            </div>
        </div>
        
        <div class="guide-section">
            <h2>üèÉ Race Day Workflow</h2>
            <ol>
                <li><strong>Before the race:</strong> Set up your pantry with all nutrition you'll use</li>
                <li><strong>Set your goals:</strong> Define your hourly targets based on your race plan</li>
                <li><strong>During the race:</strong> Log consumption at aid stations or whenever you eat/drink</li>
                <li><strong>Check progress:</strong> Review the Analysis tab to see if you're on track</li>
                <li><strong>After the race:</strong> Export your log for future reference</li>
            </ol>
        </div>
        
        <div class="nav-links">
            <a href="index.html">üè† Back to Tracker</a>
            <a href="about.html">‚ÑπÔ∏è About</a>
        </div>
    </div>
</body>
</html>
